buildscript {
	repositories.jcenter()
	dependencies {
		classpath 'org.xtext:xtext-gradle-plugin:2.0.7'
		classpath 'com.github.jengelman.gradle.plugins:shadow:5.1.0'
	}
}

repositories.jcenter()

ext.xtextVersion = '2.18.0'

apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'com.github.johnrengelman.shadow'
apply plugin: 'org.xtext.xtend'
apply plugin: 'eclipse'
mainClassName = "de.dhuebner.japicmp.CheckFolder"

tasks.withType(JavaCompile) {
	options.encoding = 'ISO-8859-1'
}

sourceCompatibility = '1.8'

dependencies {
	compile "org.eclipse.xtend:org.eclipse.xtend.lib:$xtextVersion"
	compile 'com.github.siom79.japicmp:japicmp:0.5.0'
}

sourceSets {
	main {
		java.srcDirs = ['src', 'xtend-gen']
		resources.srcDirs = ['src', 'resources']
		xtendOutputDir = 'xtend-gen'
	}
	test {
		java.srcDirs = []
		resources.srcDirs = []
	}
}

shadowJar {
	archiveName = "japicmp-ext.jar"
}